using Nemerle;
using Nemerle.Collections;
using Nemerle.Text;
using Nemerle.Utility;

using System;
using System.Diagnostics;
using System.Collections.Generic;
using System.Linq;

namespace Nemerle.Compiler.Test
{
  public abstract class ProcessStartInfoFactory
  {
    public abstract CreateProcessStartInfo(fineName : string, arguments : IEnumerable[string]) : ProcessStartInfo;

    protected static JoinArguments(arguments : IEnumerable[string]) : string
    {
      def escape(argument : string) : string
      {
        if(argument.IndexOf(' ') >= 0)
          "\"" + argument + "\""
        else
          argument
      }
      $"..$(arguments; \" \"; escape)"
    }
  }
}
