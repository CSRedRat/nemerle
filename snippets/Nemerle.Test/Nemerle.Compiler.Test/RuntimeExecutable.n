using Nemerle;
using Nemerle.Assertions;
using Nemerle.Collections;
using Nemerle.Text;
using Nemerle.Utility;

using System;
using System.Collections.Generic;
using System.Linq;

namespace Nemerle.Compiler.Test
{
  public sealed class RuntimeExecutable : ExternalNccRuntime
  {
    public this(runtimePath : string, nccPath : string, [NotNull] runtimeArguments : IEnumerable[string])
      requires !string.IsNullOrEmpty(runtimePath)
      requires !string.IsNullOrEmpty(nccPath)
    {
      _runtimePath = runtimePath;
      _nccPath = nccPath;
      _runtimeArguments = NList.ToList(runtimeArguments);
    }

    public override GetFileName() : string
    {
      _runtimePath
    }

    public override GetArguments() : IEnumerable[string]
    {
      _nccPath :: _runtimeArguments
    }

    private _runtimePath : string;
    private _nccPath : string;
    private _runtimeArguments : list[string];
  }
}
